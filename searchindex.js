Search.setIndex({docnames:["description/model","index","wiver/modules","wiver/wiver","wiver/wiver.run_wiver","wiver/wiver.tests","wiver/wiver.tests.test_wiver","wiver/wiver.tests.test_wiver_benchmark","wiver/wiver.wiver_cython","wiver/wiver.wiver_python","wiver/wiver.wiver_xml","wiver/wiver.wiver_xml_param_parser"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":4,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":3,"sphinx.domains.rst":2,"sphinx.domains.std":2,sphinx:56},filenames:["description/model.rst","index.rst","wiver/modules.rst","wiver/wiver.rst","wiver/wiver.run_wiver.rst","wiver/wiver.tests.rst","wiver/wiver.tests.test_wiver.rst","wiver/wiver.tests.test_wiver_benchmark.rst","wiver/wiver.wiver_cython.rst","wiver/wiver.wiver_python.rst","wiver/wiver.wiver_xml.rst","wiver/wiver.wiver_xml_param_parser.rst"],objects:{"":[[3,0,0,"-","wiver"]],"wiver.run_wiver":[[4,1,1,"","add_logfile"],[4,1,1,"","balancing_file"],[4,1,1,"","calc_starting_ending_trips"],[4,1,1,"","close_logfile"],[4,1,1,"","connection"],[4,1,1,"","groups_to_calculate"],[4,1,1,"","matrix_file"],[4,1,1,"","max_iterations"],[4,1,1,"","n_threads"],[4,1,1,"","params_file"],[4,1,1,"","project_folder"],[4,1,1,"","reset_balancing"],[4,1,1,"","result_file"],[4,1,1,"","result_folder"],[4,1,1,"","run_wiver"],[4,1,1,"","run_wiver_for_selected_groups"],[4,1,1,"","save_detailed_results"],[4,1,1,"","save_input_data"],[4,1,1,"","save_results"],[4,1,1,"","scenario"],[4,1,1,"","starting_ending_trips_file"],[4,1,1,"","wiver"],[4,1,1,"","wiver_files"],[4,1,1,"","zones_file"]],"wiver.tests":[[6,0,0,"-","test_wiver"],[7,0,0,"-","test_wiver_benchmark"]],"wiver.tests.test_wiver":[[6,2,1,"","Test01_WiverData"],[6,2,1,"","Test02_Wiver"],[6,2,1,"","Test03_TestExport"],[6,1,1,"","balancing_file"],[6,1,1,"","folder"],[6,1,1,"","group"],[6,1,1,"","matrix_file"],[6,1,1,"","param_dist"],[6,1,1,"","param_savings_param"],[6,1,1,"","params_file"],[6,1,1,"","result_file"],[6,1,1,"","result_folder"],[6,1,1,"","wiver"],[6,1,1,"","wiver_files"],[6,1,1,"","zone_h"],[6,1,1,"","zones_file"]],"wiver.tests.test_wiver.Test01_WiverData":[[6,3,1,"","test_01_test_definitions"],[6,3,1,"","test_02_test_merge_definitions"],[6,3,1,"","test_03_save_data"],[6,3,1,"","test_04_read_data"],[6,3,1,"","test_05_data_consistency"],[6,3,1,"","test_06_save_data_as_visum"],[6,3,1,"","test_07_validate_data"]],"wiver.tests.test_wiver.Test02_Wiver":[[6,3,1,"","test_01_calc_tours"],[6,3,1,"","test_02_destination_choice"],[6,3,1,"","test_03_savings"],[6,3,1,"","test_04_savings_factor"],[6,3,1,"","test_05_linking_trip_choice"],[6,3,1,"","test_06_calc_trips"],[6,3,1,"","test_07_savings_influence"],[6,3,1,"","test_08_calc_time_series"],[6,3,1,"","test_09_trips_gij"],[6,3,1,"","test_10_wiver_calc"],[6,3,1,"","test_21_no_destinations"],[6,3,1,"","test_22_no_accessible_linking_trips"],[6,3,1,"","test_23_test_raises_destination_choice_error"],[6,3,1,"","test_31_aggregate_to_modes"],[6,3,1,"","test_40_mean_distance_beta"],[6,3,1,"","test_41_mean_distance_savings"],[6,3,1,"","test_42_mean_distance_modes"],[6,3,1,"","test_50_balancing"],[6,3,1,"","test_51_test_starting_equals_ending_trips"]],"wiver.tests.test_wiver.Test03_TestExport":[[6,3,1,"","test_10_wiver_results"],[6,3,1,"","test_11_wiver_detailed_results"],[6,3,1,"","test_12_calc_starting_ending_trips"],[6,3,1,"","test_21_run_orca"],[6,3,1,"","test_22_run_wiver"],[6,3,1,"","test_23_run_orca_selected_groups"],[6,3,1,"","test_24_run_orca"]],"wiver.tests.test_wiver_benchmark":[[7,2,1,"","TestWiver"],[7,1,1,"","n_groups"],[7,1,1,"","n_zones"]],"wiver.tests.test_wiver_benchmark.TestWiver":[[7,3,1,"","create_wiver"],[7,3,1,"","test_01_calc_wiver"],[7,3,1,"","test_02_benchmark_wiver"]],"wiver.wiver_cython":[[8,4,1,"","DataConsistencyError"],[8,4,1,"","DestinationChoiceError"],[8,2,1,"","_WIVER"],[8,1,1,"","__pyx_unpickle__WIVER"]],"wiver.wiver_cython._WIVER":[[8,5,1,"","_active_g"],[8,5,1,"","_balancing_factor_gj"],[8,5,1,"","_converged_g"],[8,5,1,"","_home_based_trips_gij"],[8,5,1,"","_km_ij"],[8,5,1,"","_linking_trips_gij"],[8,5,1,"","_mean_distance_g"],[8,5,1,"","_mean_distance_m"],[8,5,1,"","_mode_g"],[8,5,1,"","_p_destination_tj"],[8,5,1,"","_p_links_tij"],[8,5,1,"","_param_dist_g"],[8,5,1,"","_return_trips_gij"],[8,5,1,"","_savings_param_g"],[8,5,1,"","_sector_g"],[8,5,1,"","_sink_potential_gj"],[8,5,1,"","_source_potential_gh"],[8,5,1,"","_stops_per_tour_g"],[8,5,1,"","_time_series_ending_trips_gs"],[8,5,1,"","_time_series_linking_trips_gs"],[8,5,1,"","_time_series_starting_trips_gs"],[8,5,1,"","_tour_rates_g"],[8,5,1,"","_travel_time_mij"],[8,5,1,"","_trips_gij"],[8,5,1,"","_trips_gsij"],[8,5,1,"","_trips_mij"],[8,5,1,"","_trips_msij"],[8,5,1,"","_trips_to_destination_gj"],[8,5,1,"","_zone_no"],[8,3,1,"","adjust_linking_trips"],[8,3,1,"","aggregate_to_modes"],[8,3,1,"","assert_data_consistency"],[8,3,1,"","assert_data_consistency_of_array"],[8,3,1,"","calc_daily_trips"],[8,3,1,"","calc_destination_choice"],[8,3,1,"","calc_linking_trip_choice"],[8,3,1,"","calc_linking_trips"],[8,3,1,"","calc_mean_distance"],[8,3,1,"","calc_mean_distance_mode"],[8,3,1,"","calc_p_destination"],[8,3,1,"","calc_savings"],[8,3,1,"","calc_savings_factor"],[8,3,1,"","calc_time_series"],[8,3,1,"","calc_tours"],[8,3,1,"","calc_trips"],[8,5,1,"","n_groups"],[8,5,1,"","n_modes"],[8,5,1,"","n_sectors"],[8,5,1,"","n_threads"],[8,5,1,"","n_time_slices"],[8,5,1,"","n_zones"],[8,3,1,"","normalise_time_series"],[8,3,1,"","raise_destination_choice_error"],[8,3,1,"","raise_linking_trips_error"]],"wiver.wiver_python":[[9,4,1,"","InvalidWiverInputData"],[9,2,1,"","WIVER"]],"wiver.wiver_python.WIVER":[[9,3,1,"","__init__"],[9,5,1,"","_coordinates"],[9,3,1,"","adjust_balancing_factor"],[9,3,1,"","calc"],[9,3,1,"","calc_starting_and_ending_trips"],[9,3,1,"","calc_with_balancing"],[9,3,1,"","define_arrays"],[9,3,1,"","define_balancing"],[9,3,1,"","define_datasets"],[9,3,1,"","define_matrices"],[9,3,1,"","define_params"],[9,3,1,"","define_results"],[9,3,1,"","define_zonal_data"],[9,3,1,"","merge_datasets"],[9,3,1,"","read_all_data"],[9,3,1,"","read_data"],[9,3,1,"","read_from_netcdf"],[9,3,1,"","save_all_data"],[9,3,1,"","save_data"],[9,3,1,"","save_detailed_results_to_visum"],[9,3,1,"","save_results"],[9,3,1,"","save_results_to_visum"],[9,3,1,"","set_arrays_from_balancing_ds"],[9,3,1,"","set_arrays_from_dataset"],[9,3,1,"","set_n_threads"],[9,3,1,"","validate_input_data"]],wiver:[[4,0,0,"-","run_wiver"],[5,0,0,"-","tests"],[8,0,0,"-","wiver_cython"],[9,0,0,"-","wiver_python"]]},objnames:{"0":["py","module","Python module"],"1":["py","function","Python function"],"2":["py","class","Python class"],"3":["py","method","Python method"],"4":["py","exception","Python exception"],"5":["py","attribute","Python attribute"]},objtypes:{"0":"py:module","1":"py:function","2":"py:class","3":"py:method","4":"py:exception","5":"py:attribute"},terms:{"0":[0,1,8,9],"00":[4,6,7],"03":1,"04":1,"05":1,"075":1,"1":[0,1,4,6,8,9],"10":[0,1,4,6,7,9],"100":[1,8],"1998":[0,1],"2":[0,1,9],"20":1,"2016":[4,6,7],"21":[4,6,7],"3":[0,1,6],"30":1,"35":1,"4":[1,9],"40":1,"43":1,"48":1,"5":[0,1,9],"50":1,"6":[0,1],"60":1,"7":1,"70":1,"9":1,"case":1,"char":8,"class":[6,7,8,9],"default":[0,1,4,9],"do":8,"export":6,"float":[6,9],"function":6,"import":[0,1],"int":[4,6,7,8,9],"long":8,"return":[1,4,6,7,8,9],"true":4,"while":1,A:[0,1],For:[0,1],If:[1,9],In:[0,1],It:[0,1],Or:[0,1],The:[0,1,4,6],Then:1,There:[0,1],__init__:9,__pyx_checksum:8,__pyx_stat:8,__pyx_typ:8,__pyx_unpickle__wiv:8,_active_g:8,_arrayproperti:9,_balancing_factor_gj:8,_converged_g:8,_coordin:9,_home_based_trips_gij:8,_km_ij:8,_linking_trips_gij:8,_mean_distance_g:8,_mean_distance_m:8,_mode_g:8,_p_destination_tj:8,_p_links_tij:8,_param_dist_g:8,_return_trips_gij:8,_savings_param_g:8,_sector_g:8,_sink_potential_gj:8,_source_potential_gh:8,_stops_per_tour_g:8,_time_series_ending_trips_g:8,_time_series_linking_trips_g:8,_time_series_starting_trips_g:8,_tour_rates_g:8,_travel_time_mij:8,_trips_gij:8,_trips_gsij:8,_trips_mij:8,_trips_msij:8,_trips_to_destination_gj:8,_wiver:[8,9],_zone_no:8,ab:1,access:[6,8],account:[1,8],activ:[0,1],add:[0,4,8],add_logfil:4,adjust:[0,8,9],adjust_balancing_factor:9,adjust_linking_trip:8,after:1,afternoon:1,aggreg:[6,8],aggregate_to_mod:8,al:[0,1],algorithm:1,all:[0,1,8],an:[0,1,4,8,9],anaconda:[0,1],analysi:[0,1],appi:0,ar:[0,1,6],area:1,arrai:[1,6,8,9],array_1d_d:8,array_1d_i1:8,array_1d_i2:8,array_1d_i8:8,array_2d_d:8,array_3d_d:8,array_4d_d:8,array_properti:9,array_shap:8,arrayshap:8,ascii:4,assert:8,assert_data_consist:8,assert_data_consistency_of_arrai:8,assign:1,assing:1,attract:0,attribut:8,attrnam:8,author:[4,6,7],avail:[0,1,4],b:[0,1],balanc:[1,4,9],balancing_fil:[4,6],base:[0,1,6,7,8,9],baseclass:8,becaus:[1,4],befor:4,benchmark:[0,1,7],between:[0,1,9],big:1,binari:9,bk:9,bool:4,busi:[0,9],c:1,calc:[6,8,9],calc_daily_trip:8,calc_destination_choic:8,calc_linking_trip:8,calc_linking_trip_choic:8,calc_mean_dist:8,calc_mean_distance_mod:8,calc_p_destin:8,calc_sav:8,calc_savings_factor:8,calc_starting_and_ending_trip:9,calc_starting_ending_trip:4,calc_time_seri:8,calc_tour:8,calc_trip:8,calc_with_balanc:[1,9],calcul:[0,1,4,6,8,9],can:1,car:1,car_servic:1,carri:1,channel:[0,1],check:[0,9],choic:[1,6,8,9],chosen:1,citi:1,classmethod:9,close:[1,4],close_logfil:4,closebi:6,cloud:[0,1],coeffici:0,command:6,compar:6,compress:9,comput:[0,1],conda:[0,1],config:0,connect:4,consist:[0,1,6,8],constant:6,contain:4,content:[1,2],converg:[1,9],converged_g:1,coordin:0,could:8,creat:[0,1,4,6,7,9],create_wiv:7,creation:6,custom:1,cythonarrai:[0,1,8,9],cythoninstallhelp:[0,1],d:1,dai:[0,1],daili:[8,9],data:[0,1,4,6,8,9],databas:4,dataconsistencyerror:8,datafram:9,dataset:[0,1,9],dataset_nam:9,dave:6,db3:4,decai:1,decreas:1,defin:[0,1,4,9],define_arrai:9,define_balanc:9,define_dataset:9,define_matric:9,define_param:9,define_result:9,define_zonal_data:9,deliv:1,demand:[0,1,6,8],deopt:1,depend:[0,1],depot:1,destin:[1,6,8,9],destinationchoiceerror:8,detail:[4,9],develop:[0,1],dict:[4,6,9],dictionari:4,did:1,differ:[0,1,6,9],dim:8,dimens:[0,1,8],directori:4,distanc:[0,1,6,8],distribut:6,dl:0,doubl:8,ds:9,dure:1,e:1,each:[0,1,9],easiest:[0,1],econom:[0,1,9],effici:0,employe:[0,1],end:[1,4,6],ensur:[1,8],environ:[0,1],equal:[4,6],error:[6,8],et:[0,1],even:1,exampl:1,excel:4,except:[6,8,9],execut:6,exept:8,expect:1,factor:[0,1,4,6,8,9],factori:1,fail:4,file:[4,6,9],filenam:[4,9],filepath:4,find:6,first:1,float64:0,fn:9,folder:[4,6,9],follow:[0,1],forg:0,format:9,found:8,fri:[4,6,7],from:[1,4,6,8,9],g:[1,8],gener:1,given:[1,4],goe:1,group:[0,1,4,6,8,9],group_nam:1,groups_to_calcul:4,grupp:0,h:[1,8],ha:[0,1],handl:[0,1],happen:1,have:1,hdf5:4,high:1,higher:0,home:[1,6,8],i:[0,1,8],id:4,illustr:1,imped:0,includ:9,increas:1,ind:1,index:1,indexerror:8,individu:1,industri:0,inf:1,infitit:1,influenc:1,input:[0,1,4,9],instanc:[4,6],invalid:9,invalidwiverinputdata:9,iter:[0,1,4,9],its:0,j:[0,1,8],jun:[4,6,7],larger:1,lbl_time_slic:9,lead:8,less:[0,1],letter:4,level:1,line:6,link:[0,1,6,8],linking_trip:8,linux:[0,1],list:4,log:9,logfil:4,logger:[4,9],long32:8,longer:1,low:1,lower:0,m:[1,8],macroscop:[0,1],maili:1,make:9,manag:6,matric:[0,1,4,8,9],matrix:[0,1,4,9],matrix_fil:[4,6],max_iter:[1,4,9],maxbo:[0,1],maxbohnet:[4,6,7],maximum:[1,4,9],mean:[1,6,8],merg:9,merge_dataset:9,might:1,mode:[1,6,8,9],model:[4,6,7,8,9],modes_g:1,modul:[1,2],more:[0,1,7],morn:1,most:1,must:4,n:[0,1],n_group:[0,1,7,8,9],n_mode:[0,1,8,9],n_sector:[0,1,8,9],n_thread:[0,1,4,8,9],n_time_slic:[0,1,8,9],n_zone:[0,1,7,8,9],name:[1,4,8,9],ndarrai:8,need:1,neg:1,netcdf4:4,netcdf:9,next:[0,1],non:4,none:[0,9],normalis:8,normalise_time_seri:8,np:1,number:[0,1,4,6,8,9],object:[0,6,7],ones:1,onli:4,open:4,optim:[1,6],option:[1,9],orca:6,order:0,origin:[1,6],otherwis:[4,8],out:1,output:9,ov:0,overwritten:6,packag:[0,1,2],page:1,parallel:[0,1],param:[4,6,9],param_dist:6,param_dist_g:1,param_savings_param:6,paramet:[1,4,6,7,8,9],params_fil:[4,6],path:4,per:[0,1,4,6,9],pip:[0,1],pkw:0,plan:0,point:6,postal:1,potenti:[0,1],probabl:[1,8],produc:0,project:4,project_fold:4,proport:1,provid:[0,1,9],py:[0,1],pyarg:[0,1],pytest:[0,1,6],python:[0,1],rad:0,rais:[6,8],raise_destination_choice_error:8,raise_linking_trips_error:8,rate:[1,6],reach:1,read:[6,9],read_all_data:9,read_data:9,read_from_netcdf:9,receiv:1,rel:[0,1],relative_differ:1,repres:1,request:[6,7],requir:[0,1],reset:4,reset_balanc:4,result:[1,4,6,7,8,9],result_fil:[4,6],result_fold:[4,6],round:8,run:[1,8],run_wiv:[1,2,3,6],run_wiver_for_selected_group:4,runtim:7,same:1,save:[1,4,6,8,9],save_all_data:9,save_data:9,save_detailed_result:4,save_detailed_results_to_visum:9,save_input_data:4,save_result:[4,9],save_results_to_visum:9,savings_param_g:1,scenario:4,search:1,sector:[0,1,9],sector_g:1,sector_short:[1,9],select:4,self:8,seri:[1,8],serv:1,servic:1,set:9,set_arrays_from_balancing_d:9,set_arrays_from_dataset:9,set_n_thread:9,should:[1,4,9],simul:[0,1],singl:9,sink:1,sink_potenti:6,sink_potential_gj:1,site:1,slice:[0,1,9],small:[1,8],so:1,some:1,sonntag:[0,1],sourc:1,source_potenti:1,source_potential_gh:[0,1],sqlite:4,stadt:0,stai:6,start:[1,4,6,9],starting_ending_trip_fil:4,starting_ending_trips_fil:4,step:[0,1],stop:1,stops_per_tour:1,stops_per_tour_g:1,store:[1,4,6],str:[4,6,9],stratifi:[0,1],submodul:[1,2],subpackag:[1,2],sum:8,t:8,t_ij:1,t_ij_car:1,t_ij_truck:1,t_ij_van:1,target:[1,8,9],target_trips_gj:1,taz:[0,1],temp:[4,6],tempdir:6,test01_wiverdata:6,test02_wiv:6,test03_testexport:6,test:[0,1,2,3,8],test_01_calc_tour:6,test_01_calc_wiv:7,test_01_test_definit:6,test_02_benchmark_wiv:7,test_02_destination_choic:6,test_02_test_merge_definit:6,test_03_sav:6,test_03_save_data:6,test_04_read_data:6,test_04_savings_factor:6,test_05_data_consist:6,test_05_linking_trip_choic:6,test_06_calc_trip:6,test_06_save_data_as_visum:6,test_07_savings_influ:6,test_07_validate_data:6,test_08_calc_time_seri:6,test_09_trips_gij:6,test_10_wiver_calc:6,test_10_wiver_result:6,test_11_wiver_detailed_result:6,test_12_calc_starting_ending_trip:6,test_21_no_destin:6,test_21_run_orca:6,test_22_no_accessible_linking_trip:6,test_22_run_wiv:6,test_23_run_orca_selected_group:6,test_23_test_raises_destination_choice_error:6,test_24_run_orca:6,test_31_aggregate_to_mod:6,test_40_mean_distance_beta:6,test_41_mean_distance_sav:6,test_42_mean_distance_mod:6,test_50_balanc:6,test_51_test_starting_equals_ending_trip:6,test_wiv:[3,5],test_wiver_benchmark:[3,5],testwiv:7,than:[0,1],them:9,thread:[0,1,4,6,9],threshold:[1,9],time:[0,1,8,9],time_seri:[6,8],time_series_ending_trips_g:1,time_series_linking_trips_g:1,time_series_starting_trips_g:1,tmpdir_factori:6,total:[1,6],tour:[1,6,8],tour_rat:1,tour_rates_g:1,town:1,transport:[0,1,9],travel:[0,1],travel_time_mij:1,trip:[4,6,8,9],trips_gj:1,trips_gsij:9,truck:1,truck_industri:1,type:[0,1,4,6,7,8,9],um:8,unicod:8,up:8,upon:[0,1],urban:1,us:[0,1,4,9],valid:6,validate_input_data:9,valu:[1,6,8,9],valueerror:[8,9],van:1,van_industri:1,variabl:[0,1],vehicl:[0,1],veri:1,villag:1,virtual:[0,1],visum:[6,9],visum_format:9,wai:[0,1],we:1,when:[6,8],where:[4,9],which:[0,1,8],whole:6,wich:1,window:1,windown:0,within:9,without:[0,1],wiver:0,wiver_cython:[1,2,3,9],wiver_fil:[4,6,9],wiver_python:[1,2,3,6],wiverdata:6,write:[4,9],written:9,xarrai:[0,1],yet:1,you:[0,1],zero:1,zonal:[4,9],zonal_data:4,zone:[0,1,4,6,7,8,9],zone_h:6,zone_nam:[1,9],zone_no:1,zones_fil:[4,6]},titles:["Description","Welcome to the Wiver Commercial Trip Model documentation","wiver","wiver package","wiver.run_wiver module","wiver.tests package","wiver.tests.test_wiver module","wiver.tests.test_wiver_benchmark module","wiver.wiver_cython module","wiver.wiver_python module","wiver.wiver_xml module","wiver.wiver_xml_param_parser module"],titleterms:{algorithm:0,balanc:0,busi:1,choic:0,code:1,commerci:1,compon:1,content:[3,5],descript:[0,1],destin:0,document:1,gener:0,indic:1,instal:[0,1],model:[0,1],modul:[3,4,5,6,7,8,9,10,11],optim:0,packag:[3,5],run_wiv:4,save:0,submodul:[3,5],subpackag:3,tabl:1,test:[5,6,7],test_wiv:6,test_wiver_benchmark:7,tour:0,trip:[0,1],welcom:1,wiver:[1,2,3,4,5,6,7,8,9,10,11],wiver_cython:8,wiver_python:9,wiver_xml:10,wiver_xml_param_pars:11}})